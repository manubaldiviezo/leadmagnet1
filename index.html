<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MANU | Campaign Auditor & Lead Gen</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #08080A;
            --bg-panel: #131316;
            --primary: #FF3B00; /* Naranja MANU */
            --text-main: #FFFFFF;
            --text-muted: #888;
            --border: #2D2D33;
            --success: #00E096;
            --radius: 12px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            display: flex; flex-direction: column; min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            width: 100%;
        }

        /* HEADER */
        header { text-align: center; margin-bottom: 2rem; }
        .logo { font-weight: 800; font-size: 1.5rem; letter-spacing: -0.5px; margin-bottom: 5px; }
        .logo span { color: var(--primary); }
        .sub { font-size: 0.9rem; color: var(--text-muted); }

        /* CARDS */
        .card {
            background: var(--bg-panel);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        h3 { font-size: 0.9rem; text-transform: uppercase; color: var(--text-muted); margin-bottom: 1.5rem; font-weight: 700; letter-spacing: 1px; }

        /* INPUTS */
        .form-group { margin-bottom: 1.2rem; }
        label { display: block; font-size: 0.85rem; font-weight: 600; margin-bottom: 8px; color: #ccc; }
        
        input {
            width: 100%; background: #000; border: 1px solid #333; color: #fff;
            padding: 14px; border-radius: 8px; font-size: 1rem; font-family: inherit;
            transition: 0.2s;
        }
        input:focus { border-color: var(--primary); }

        /* ACTION BUTTONS */
        .btn {
            width: 100%; padding: 16px; border-radius: 8px; font-weight: 700; text-transform: uppercase;
            cursor: pointer; border: none; font-size: 0.95rem; transition: 0.2s;
        }
        .btn-calc { background: #333; color: #fff; }
        .btn-calc:hover { background: #444; }

        .btn-submit { 
            background: var(--primary); color: #fff; margin-top: 10px;
            box-shadow: 0 4px 15px rgba(255, 59, 0, 0.3);
        }
        .btn-submit:hover { background: #ff5519; transform: translateY(-2px); }

        /* RESULTS AREA (Hidden by default) */
        .result-preview {
            display: none;
            text-align: center;
            border-top: 4px solid #333;
        }
        .verdict { font-size: 2rem; font-weight: 800; margin: 10px 0; }
        .verdict-sub { color: var(--text-muted); margin-bottom: 20px; font-size: 0.9rem; }

        /* LEAD FORM (The Lock) */
        .lead-lock {
            background: rgba(255, 59, 0, 0.05);
            border: 1px dashed var(--primary);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: left;
            margin-top: 20px;
        }
        .lock-title { font-weight: 700; color: var(--primary); margin-bottom: 5px; display: flex; align-items: center; gap: 8px; }

        /* Success Message */
        .success-msg {
            display: none; text-align: center; padding: 2rem;
        }
        .check-icon { font-size: 3rem; color: var(--success); margin-bottom: 1rem; display: block; }

    </style>
</head>
<body>

<div class="container">
    <header>
        <div class="logo">MANU <span>/ AUDITOR</span></div>
        <p class="sub">Analiza tus campa√±as y recibe el protocolo de optimizaci√≥n.</p>
    </header>

    <div class="card" id="step-1">
        <h3>1. Datos de la Campa√±a</h3>
        
        <div class="form-group">
            <label>CPA Objetivo ($)</label>
            <input type="number" id="cpa_target" placeholder="Ej. 15">
        </div>
        <div class="form-group">
            <label>Gasto Total ($)</label>
            <input type="number" id="spend" placeholder="Ej. 50">
        </div>
        <div class="form-group">
            <label>Conversiones Totales</label>
            <input type="number" id="conversions" placeholder="Ej. 2">
        </div>

        <button class="btn btn-calc" onclick="calculatePreview()">ANALIZAR DATOS</button>
    </div>

    <div class="card result-preview" id="step-2">
        <h3>Diagn√≥stico Preliminar</h3>
        
        <div id="verdict-display">
            <div style="font-size:3rem;">ü§î</div>
            <div class="verdict">ANALIZANDO...</div>
        </div>
        <p class="verdict-sub">Hemos detectado un patr√≥n en tus anuncios.</p>

        <div class="lead-lock">
            <div class="lock-title">üîí DESBLOQUEAR REPORTE COMPLETO</div>
            <p style="font-size:0.85rem; color:#aaa; margin-bottom:15px;">
                Ingresa tu correo para enviarte el <strong>Protocolo de Acci√≥n Paso a Paso</strong> y guardar este an√°lisis en nuestra base de datos.
            </p>

            <form id="leadForm" onsubmit="sendData(event)">
                <div class="form-group">
                    <label>Tu Nombre</label>
                    <input type="text" id="lead_name" required placeholder="Tu nombre">
                </div>
                <div class="form-group">
                    <label>Tu Correo Electr√≥nico</label>
                    <input type="email" id="lead_email" required placeholder="ejemplo@correo.com">
                </div>
                
                <input type="hidden" id="hidden_verdict">
                <input type="hidden" id="hidden_cpa">
                
                <button type="submit" class="btn btn-submit">ENVIAR REPORTE AHORA</button>
            </form>
        </div>
    </div>

    <div class="card success-msg" id="step-3">
        <span class="check-icon">‚úÖ</span>
        <h2>¬°Datos Enviados!</h2>
        <p style="color:#aaa; margin-top:10px;">
            Hemos enviado el protocolo de optimizaci√≥n a tu correo. Revisa tu bandeja de entrada.
        </p>
        <button class="btn btn-calc" style="margin-top:20px;" onclick="location.reload()">ANALIZAR OTRA CAMPA√ëA</button>
    </div>

</div>

<script>
    function calculatePreview() {
        const target = parseFloat(document.getElementById('cpa_target').value);
        const spend = parseFloat(document.getElementById('spend').value);
        const conversions = parseFloat(document.getElementById('conversions').value);

        if (isNaN(target) || isNaN(spend) || isNaN(conversions)) {
            alert("Por favor completa todos los campos num√©ricos.");
            return;
        }

        // L√≥gica Simple para el Preview
        let verdict = "";
        let icon = "";
        let color = "";
        const currentCPA = conversions > 0 ? spend / conversions : spend;

        if (spend < target) {
            verdict = "ESPERAR DATA"; icon = "‚è≥"; color = "#2979FF";
        } else if (conversions === 0 && spend > target * 1.5) {
            verdict = "APAGAR (KILL)"; icon = "üíÄ"; color = "#FF2A2A";
        } else if (currentCPA < target) {
            verdict = "ESCALAR"; icon = "üöÄ"; color = "#00E096";
        } else {
            verdict = "OPTIMIZAR"; icon = "‚ö†Ô∏è"; color = "#FFD600";
        }

        // Mostrar Preview
        const display = document.getElementById('verdict-display');
        display.innerHTML = `<div style="font-size:3rem;">${icon}</div><div class="verdict" style="color:${color}">${verdict}</div>`;
        
        // Guardar datos en inputs ocultos para el env√≠o
        document.getElementById('hidden_verdict').value = verdict;
        document.getElementById('hidden_cpa').value = currentCPA.toFixed(2);

        // UI Transition
        document.getElementById('step-1').style.display = 'none';
        document.getElementById('step-2').style.display = 'block';
    }

    function sendData(e) {
        e.preventDefault();
        
        // AQU√ç IR√çA EL SCRIPT DE CONEXI√ìN A GOOGLE SHEETS
        // Como estamos en GitHub Pages est√°tico, simulamos el env√≠o.
        
        const btn = document.querySelector('.btn-submit');
        const originalText = btn.innerText;
        
        btn.innerText = "ENVIANDO...";
        btn.style.opacity = "0.7";
        
        // Simulaci√≥n de delay de red (1.5 segundos)
        setTimeout(() => {
            // Transici√≥n a pantalla de √©xito
            document.getElementById('step-2').style.display = 'none';
            document.getElementById('step-3').style.display = 'block';
            
            // En un caso real, aqu√≠ usar√≠amos fetch() para enviar los datos a Make/Zapier/GoogleSheets
            console.log("Datos capturados:", {
                name: document.getElementById('lead_name').value,
                email: document.getElementById('lead_email').value,
                verdict: document.getElementById('hidden_verdict').value
            });
            
        }, 1500);
    }
</script>

</body>
</html>
